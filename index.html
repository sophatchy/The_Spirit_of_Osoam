<!DOCTYPE html>
<html lang="km" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Spirit of Osoam | បេសកកម្មទេសចរណ៍ឌីជីថល</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:wght@400;600;700&family=Rajdhani:wght@500;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Apply Kantumruy Pro to everything */
        body, h1, h2, h3, h4, p, a, span, div, button { 
            font-family: 'Kantumruy Pro', sans-serif; 
            transition: background-color 1s ease, color 1s ease, border-color 1s ease; /* Smooth Theme Transition */
        }
        
        .brand-font { font-family: 'Rajdhani', sans-serif; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f1c3f; }
        ::-webkit-scrollbar-thumb { background: #00ffc2; border-radius: 4px; }

        /* --- GLOBAL BACKGROUND --- */
        #global-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-size: 400px; 
            animation: moveMap 120s linear infinite;
            transition: background-image 1s, background-color 1s;
        }

        /* DARK MODE BACKGROUND */
        html.dark #global-bg {
            background-color: #0f1c3f; /* Deep Navy */
            background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='grid-dark' width='200' height='200' patternUnits='userSpaceOnUse'%3E%3C!-- Teal Lines --%3E%3Cpath d='M0 20 C40 10 60 50 100 40 C140 30 160 70 200 60' fill='none' stroke='%2300ffc2' stroke-width='1' stroke-opacity='0.15'/%3E%3Cpath d='M0 60 C30 50 70 90 100 80 C130 70 170 110 200 100' fill='none' stroke='%2300ffc2' stroke-width='1' stroke-opacity='0.15'/%3E%3Cpath d='M0 100 C50 90 50 130 100 120 C150 110 150 150 200 140' fill='none' stroke='%2300ffc2' stroke-width='1' stroke-opacity='0.15'/%3E%3Cpath d='M0 140 C40 130 60 170 100 160 C140 150 160 190 200 180' fill='none' stroke='%2300ffc2' stroke-width='1' stroke-opacity='0.15'/%3E%3Cpath d='M0 180 C30 170 70 210 100 200 C130 190 170 230 200 220' fill='none' stroke='%2300ffc2' stroke-width='1' stroke-opacity='0.15'/%3E%3C!-- White Road --%3E%3Cpath d='M20 0 C20 50 80 50 80 100 C80 150 180 150 180 200' fill='none' stroke='%23ffffff' stroke-width='2' stroke-dasharray='5,5' stroke-opacity='0.1'/%3E%3Cpath d='M120 0 C120 40 160 60 160 100 C160 140 40 160 40 200' fill='none' stroke='%23ffffff' stroke-width='2' stroke-dasharray='5,5' stroke-opacity='0.1'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23grid-dark)' /%3E%3C/svg%3E");
        }

        /* LIGHT MODE BACKGROUND */
        html:not(.dark) #global-bg {
            background-color: #f8fafc; /* White/Slate-50 */
            background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='grid-light' width='200' height='200' patternUnits='userSpaceOnUse'%3E%3C!-- Grey Lines --%3E%3Cpath d='M0 20 C40 10 60 50 100 40 C140 30 160 70 200 60' fill='none' stroke='%2394a3b8' stroke-width='1' stroke-opacity='0.2'/%3E%3Cpath d='M0 60 C30 50 70 90 100 80 C130 70 170 110 200 100' fill='none' stroke='%2394a3b8' stroke-width='1' stroke-opacity='0.2'/%3E%3Cpath d='M0 100 C50 90 50 130 100 120 C150 110 150 150 200 140' fill='none' stroke='%2394a3b8' stroke-width='1' stroke-opacity='0.2'/%3E%3Cpath d='M0 140 C40 130 60 170 100 160 C140 150 160 190 200 180' fill='none' stroke='%2394a3b8' stroke-width='1' stroke-opacity='0.2'/%3E%3Cpath d='M0 180 C30 170 70 210 100 200 C130 190 170 230 200 220' fill='none' stroke='%2394a3b8' stroke-width='1' stroke-opacity='0.2'/%3E%3C!-- Teal Road --%3E%3Cpath d='M20 0 C20 50 80 50 80 100 C80 150 180 150 180 200' fill='none' stroke='%230f766e' stroke-width='2' stroke-dasharray='5,5' stroke-opacity='0.15'/%3E%3Cpath d='M120 0 C120 40 160 60 160 100 C160 140 40 160 40 200' fill='none' stroke='%230f766e' stroke-width='2' stroke-dasharray='5,5' stroke-opacity='0.15'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23grid-light)' /%3E%3C/svg%3E");
        }

        @keyframes moveMap {
            0% { background-position: 0 0; }
            100% { background-position: -400px 400px; }
        }

        .hero-overlay {
            background: radial-gradient(circle at center, transparent 10%, #0f1c3f 100%);
            transition: background 1s;
        }
        html:not(.dark) .hero-overlay {
            background: radial-gradient(circle at center, transparent 10%, #f8fafc 100%);
        }

        /* --- RESPONSIVE CONTAINER & ANIMATIONS --- */
        .bike-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            /* Use viewport height for better scaling on 21:9 and Mobile */
            height: 50vh; 
            min-height: 300px; /* Prevent too small on mobile */
            max-height: 600px;
            z-index: 20;
            display: flex;
            align-items: flex-end;
        }

        /* SVG Styles */
        .svg-path-container {
            width: 100%;
            height: 100%;
            /* Ensure it fits fully on screen */
            filter: drop-shadow(0 0 5px rgba(0,0,0,0.3));
        }

        /* Text Readability */
        .svg-text {
            font-family: 'Kantumruy Pro', sans-serif;
            font-weight: 800;
            font-size: 20px; /* Increased for mobile */
            text-anchor: middle;
            fill: white;
            stroke: #0f1c3f;
            stroke-width: 6px; /* Thicker stroke for readability */
            paint-order: stroke;
            transition: fill 1s, stroke 1s;
        }
        
        html:not(.dark) .svg-text {
            fill: #0f172a;
            stroke: #ffffff;
            stroke-width: 6px;
        }

        .svg-text-highlight {
            fill: #00ffc2;
            font-size: 24px; /* Bigger main stop */
        }
        html:not(.dark) .svg-text-highlight {
            fill: #0d9488;
        }

        .text-shadow-poster { text-shadow: 2px 2px 4px rgba(0,0,0,0.8); transition: color 1s, text-shadow 1s; }
        html:not(.dark) .text-shadow-poster { text-shadow: none; color: #0f172a; }

        .hidden { display: none !important; }
        
        .glass-card {
            background: rgba(15, 28, 63, 0.85);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 194, 0.1);
            transition: background 1s, border-color 1s, box-shadow 1s;
        }
        
        html:not(.dark) .glass-card {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(15, 118, 110, 0.1);
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }
    </style>
    
    <script>
        tailwind.config = {
            darkMode: 'class', 
            theme: {
                extend: {
                    colors: {
                        'shirt-blue': '#0f1c3f',
                        'shirt-green': '#00ffc2',
                        'moto-red': '#d32e26', 
                        'moto-yellow': '#fcb813', 
                        'dark-bg': '#0f1c3f',
                    }
                }
            }
        }
    </script>
</head>
<body class="text-gray-800 dark:text-gray-200 antialiased selection:bg-teal-600 dark:selection:bg-shirt-green selection:text-white dark:selection:text-black transition-colors duration-1000">

    <div id="global-bg"></div>

    <!-- NAVIGATION -->
    <nav class="fixed w-full z-50 bg-white/90 dark:bg-shirt-blue/90 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 transition-colors duration-1000">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-gray-900 dark:text-white brand-font">
                Sophat <span class="text-teal-600 dark:text-shirt-green">CHY</span>
            </a>
            
            <div class="flex items-center gap-6">
                <div class="hidden md:flex space-x-8 text-base font-bold tracking-wide">
                    <a href="#mission" class="text-gray-600 dark:text-gray-300 hover:text-teal-600 dark:hover:text-shirt-green transition"><span class="lang-km">បេសកកម្ម</span><span class="lang-en hidden">Mission</span></a>
                    <a href="#route" class="text-gray-600 dark:text-gray-300 hover:text-teal-600 dark:hover:text-shirt-green transition"><span class="lang-km">ផ្លូវធ្វើដំណើរ</span><span class="lang-en hidden">Route</span></a>
                    <a href="#sponsors" class="text-gray-600 dark:text-gray-300 hover:text-teal-600 dark:hover:text-shirt-green transition"><span class="lang-km">ដៃគូសហការ</span><span class="lang-en hidden">Partners</span></a>
                    <a href="#contact" class="border border-teal-600 dark:border-shirt-green px-4 py-2 rounded text-teal-600 dark:text-shirt-green hover:bg-teal-600 dark:hover:bg-shirt-green hover:text-white dark:hover:text-black transition"><span class="lang-km">ទំនាក់ទំនង</span><span class="lang-en hidden">Contact</span></a>
                </div>
                <div class="flex items-center gap-3 border-l border-gray-300 dark:border-gray-700 pl-6">
                    <button id="lang-toggle" class="font-bold text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-3 py-1 rounded hover:bg-teal-600 dark:hover:bg-shirt-green hover:text-white dark:hover:text-black transition">EN</button>
                    <button id="theme-toggle" class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition">
                        <i id="theme-icon" class="fas fa-moon text-gray-600 dark:text-shirt-green text-lg"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <header class="relative h-screen flex flex-col items-center justify-center overflow-hidden pb-32">
        <!-- Digital Overlay for Day/Night Effect -->
        <div class="absolute inset-0 hero-overlay pointer-events-none"></div>
        
        <div class="relative z-10 text-center px-4 max-w-5xl mx-auto -mt-10">
            <!-- Badge -->
            <div class="inline-block bg-teal-50 dark:bg-gradient-to-r dark:from-teal-600 dark:to-shirt-green text-teal-800 dark:text-black px-6 py-2 font-bold text-sm tracking-wide mb-6 rounded-full shadow-lg border border-teal-200 dark:border-teal-400">
                <span class="lang-km">ដំណើរកម្សាន្តទៅកាន់បេះដូងនៃជួរភ្នំក្រវាញ</span>
                <span class="lang-en hidden">A Journey into the Heart of the Cardamoms</span>
            </div>
            
            <h1 class="text-5xl md:text-9xl font-bold text-gray-900 dark:text-white mb-4 leading-tight brand-font tracking-tighter dark:drop-shadow-2xl">
                THE SPIRIT OF <br>
                <span class="text-teal-600 dark:text-transparent dark:bg-clip-text dark:bg-gradient-to-r dark:from-shirt-green dark:to-teal-200">OSOAM</span>
            </h1>
            
            <p class="text-lg md:text-2xl text-gray-600 dark:text-gray-300 mb-10 leading-relaxed font-bold max-w-3xl mx-auto text-shadow-poster">
                <span class="lang-km">ដំណើរកម្សាន្តរឿងរ៉ាវ និងបេសកកម្មកែលម្អផែនទីឌីជីថល<br>នៅតំបន់អូសោម ខេត្តពោធិ៍សាត់</span>
                <span class="lang-en hidden">A Storytelling Journey & Digital Mapping Mission<br>in Osoam, Pursat Province</span>
            </p>
            
            <div class="flex flex-col md:flex-row justify-center gap-4 text-base font-bold">
                <div class="flex items-center gap-3 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md px-8 py-4 rounded-full border border-gray-200 dark:border-gray-700 shadow-xl hover:border-teal-500 dark:hover:border-shirt-green transition group">
                    <i class="fas fa-calendar-alt text-teal-600 dark:text-shirt-green text-xl group-hover:scale-110 transition"></i> 
                    <span class="text-gray-800 dark:text-white"><span class="lang-km">០៤-០៧ ធ្នូ ២០២៥</span><span class="lang-en hidden">04-07 DEC 2025</span></span>
                </div>
            </div>
        </div>

        <!-- RESPONSIVE MOTORBIKE ANIMATION CONTAINER -->
        <div class="bike-container">
            <!-- ViewBox optimized for wide/short screens -->
            <svg class="svg-path-container" viewBox="0 0 1200 450" preserveAspectRatio="xMidYMid meet">
                <defs>
                    <path id="responsiveRidePath" d="M50,350 C150,350 200,300 300,250 C400,200 400,100 500,100 C600,100 600,200 700,200 C800,200 800,350 900,350 C1000,350 1050,350 1150,350" />
                    <filter id="glow"><feGaussianBlur stdDeviation="2.5" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                </defs>
                
                <!-- Track Lines -->
                <use xlink:href="#responsiveRidePath" stroke="#1e3a8a" stroke-width="8" fill="none" class="opacity-50 dark:opacity-100 transition-opacity duration-1000" />
                
                <!-- Stops -->
                <g class="stop-group">
                    <circle cx="50" cy="350" r="10" fill="#0f1c3f" stroke="#00ffc2" stroke-width="4" />
                    <text x="50" y="400" class="svg-text">ភ្នំពេញ</text>
                    
                    <circle cx="300" cy="250" r="10" fill="#0f1c3f" stroke="#00ffc2" stroke-width="4" />
                    <text x="300" y="290" class="svg-text">ពោធិ៍សាត</text>
                    
                    <circle cx="500" cy="100" r="10" fill="#0f1c3f" stroke="#00ffc2" stroke-width="4" />
                    <text x="500" y="80" class="svg-text">វាលវែង (១៥០០)</text>
                    
                    <circle cx="700" cy="200" r="15" fill="#0f1c3f" stroke="#00ffc2" stroke-width="5" />
                    <text x="700" y="250" class="svg-text svg-text-highlight">អូសោម</text>
                    
                    <circle cx="900" cy="350" r="10" fill="#0f1c3f" stroke="#00ffc2" stroke-width="4" />
                    <text x="900" y="400" class="svg-text">កោះកុង</text>
                    
                    <circle cx="1150" cy="350" r="10" fill="#0f1c3f" stroke="#00ffc2" stroke-width="4" />
                    <text x="1150" y="400" class="svg-text">ភ្នំពេញ</text>
                </g>

                <!-- THE SUN/MOON (Follows Bike, Changes Color) -->
                <g>
                    <circle r="30" filter="url(#glow)">
                        <animateMotion dur="20s" repeatCount="indefinite" rotate="auto">
                            <mpath xlink:href="#responsiveRidePath" />
                        </animateMotion>
                        <!-- Color Animation: Yellow(Day) -> Orange(Sunset) -> White(Moon) -> Hide -> Yellow -->
                        <animate attributeName="fill" values="#fbbf24; #f59e0b; #ff4500; #e2e8f0; #e2e8f0; #fbbf24" keyTimes="0; 0.4; 0.55; 0.65; 0.95; 1" dur="20s" repeatCount="indefinite" />
                        <!-- Lift Sun higher -->
                        <animateTransform attributeName="transform" type="translate" from="0 -80" to="0 -80" dur="20s" repeatCount="indefinite" />
                    </circle>
                </g>

                <!-- The Rider -->
                <g>
                    <foreignObject width="60" height="60" x="-30" y="-30">
                        <div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;justify-content:center;align-items:center;width:100%;height:100%; color: white;">
                            <i class="fas fa-motorcycle" style="font-size:35px; color: #0f172a; filter: drop-shadow(0 0 2px white);"></i>
                        </div>
                    </foreignObject>
                    <animateMotion dur="20s" repeatCount="indefinite" rotate="auto">
                        <mpath xlink:href="#responsiveRidePath" />
                    </animateMotion>
                </g>
            </svg>
        </div>
    </header>

    <!-- Rest of content... -->
    <section class="relative -mt-10 z-20 container mx-auto px-4">
        <div class="glass-card rounded-xl shadow-2xl p-8 grid grid-cols-3 gap-6 text-center max-w-4xl mx-auto transition-colors duration-300">
            <div class="flex flex-col items-center group">
                <div class="w-12 h-12 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-3 group-hover:bg-gray-200 dark:group-hover:bg-gray-700 transition">
                    <i class="fas fa-route text-xl text-gray-700 dark:text-white"></i>
                </div>
                <h3 class="text-4xl font-bold text-gray-800 dark:text-white brand-font mb-1">4</h3>
                <p class="text-gray-500 dark:text-gray-400 text-sm font-bold"><span class="lang-km">ថ្ងៃនៃដំណើរ</span><span class="lang-en hidden">Days Journey</span></p>
            </div>
            <div class="flex flex-col items-center group">
                <div class="w-12 h-12 rounded-full bg-red-50 dark:bg-moto-red/10 flex items-center justify-center mb-3 group-hover:bg-red-100 dark:group-hover:bg-moto-red/20 transition">
                    <i class="fas fa-mountain text-xl text-moto-red"></i>
                </div>
                <h3 class="text-4xl font-bold text-moto-red brand-font mb-1">1500</h3>
                <p class="text-gray-500 dark:text-gray-400 text-sm font-bold"><span class="lang-km">ភ្នំ ១៥០០</span><span class="lang-en hidden">Phnom 1500</span></p>
            </div>
            <div class="flex flex-col items-center group">
                <div class="w-12 h-12 rounded-full bg-teal-50 dark:bg-shirt-green/10 flex items-center justify-center mb-3 group-hover:bg-teal-100 dark:group-hover:bg-shirt-green/20 transition">
                    <i class="fas fa-street-view text-xl text-teal-600 dark:text-shirt-green"></i>
                </div>
                <h3 class="text-4xl font-bold text-teal-600 dark:text-shirt-green brand-font mb-1">360°</h3>
                <p class="text-gray-500 dark:text-gray-400 text-sm font-bold">Street View</p>
            </div>
        </div>
    </section>

    <section id="mission" class="py-20 container mx-auto px-6">
        <div class="max-w-4xl mx-auto glass-card p-8 rounded-xl shadow-xl">
            <h2 class="text-3xl md:text-5xl font-bold mb-6 border-l-4 border-teal-600 dark:border-shirt-green pl-6 text-gray-900 dark:text-white">
                <span class="lang-km">មូលហេតុនៃដំណើរនេះ?</span>
            </h2>
            <p class="text-gray-600 dark:text-gray-300 mb-6 leading-relaxed text-lg">
                <span class="lang-km">“The Spirit of Osoam” មិនមែនគ្រាន់តែជាគម្រោងផលិតមាតិកាទេ។ វាជាដំណើរមួយដើម្បីជួយសហគមន៍ក្នុងការកែលម្អផែនទីឌីជីថល។</span>
            </p>
        </div>
    </section>

    <section id="sponsors" class="py-20 container mx-auto px-6">
        <div class="glass-card p-10 rounded-xl shadow-xl text-center">
            <div class="mb-16">
                <h2 class="text-3xl font-bold text-gray-900 dark:text-white uppercase">
                    <span class="lang-km">ដៃគូសហការ និងការគាំទ្រ</span>
                </h2>
                <div class="w-24 h-1 bg-teal-600 dark:bg-shirt-green mx-auto mt-4 rounded"></div>
            </div>
            <div class="flex flex-col items-center mb-16 text-center">
                <p class="text-gray-500 dark:text-gray-400 text-sm tracking-wider uppercase mb-4 font-bold"><span class="lang-km">ដៃគូទេសចរណ៍យុទ្ធសាស្ត្រ</span></p>
                <h3 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white brand-font tracking-wider uppercase">Cambodia Tourism Board</h3>
            </div>
            <div class="flex flex-wrap justify-center gap-4 text-gray-800 dark:text-white font-bold text-xl md:text-2xl tracking-wide items-center">
                <span class="px-4 border-r border-gray-300 dark:border-gray-600 brand-font uppercase">BookMeBus</span>
                <span class="px-4 border-r border-gray-300 dark:border-gray-600 brand-font uppercase">Kofi</span>
                <span class="px-4 brand-font uppercase">Royal Enfield</span>
            </div>
        </div>
    </section>

    <footer id="contact" class="glass-card mt-10 border-t border-gray-200 dark:border-gray-800 pt-16 pb-8">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6 brand-font tracking-wide">THE SPIRIT OF OSOAM</h2>
            <div class="flex justify-center gap-6 mb-12">
                <a href="#" class="w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center text-gray-700 dark:text-white hover:bg-teal-600 dark:hover:bg-shirt-green hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center text-gray-700 dark:text-white hover:bg-red-600 hover:text-white transition"><i class="fab fa-youtube"></i></a>
            </div>
            <p class="text-gray-500 dark:text-gray-600 text-xs">© 2025 Sophat CHY.</p>
        </div>
    </footer>

    <!-- Logic Script -->
    <script>
        const toggleThemeBtn = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const langToggleBtn = document.getElementById('lang-toggle');
        let isManualOverride = false; // Flag to stop auto-cycle if user clicks manually

        // --- Day/Night Cycle Logic ---
        // 20s Cycle: 0-12s (Day), 12-20s (Night)
        // Osoam is at ~60% of the path, so 12 seconds into a 20s animation.
        function startDayNightCycle() {
            const cycleDuration = 20000; 
            const sunsetPoint = 12000; // 12 seconds (Sunset at Osoam)
            
            const updateCycle = () => {
                if (isManualOverride) return; // Stop if user clicked toggle

                const now = Date.now();
                const elapsed = now % cycleDuration; // Keeps loop in sync with 20s animation

                if (elapsed < sunsetPoint) {
                    // Day Time (Light Mode)
                    if (document.documentElement.classList.contains('dark')) {
                        document.documentElement.classList.remove('dark');
                        updateThemeIcon(false);
                    }
                } else {
                    // Night Time (Dark Mode)
                    if (!document.documentElement.classList.contains('dark')) {
                        document.documentElement.classList.add('dark');
                        updateThemeIcon(true);
                    }
                }
                requestAnimationFrame(updateCycle);
            };
            requestAnimationFrame(updateCycle);
        }

        // Initialize
        startDayNightCycle();

        // --- Manual Theme Toggle ---
        toggleThemeBtn.addEventListener('click', () => {
            isManualOverride = true; // Disable auto-cycle
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            localStorage.theme = isDark ? 'dark' : 'light';
            updateThemeIcon(isDark);
        });

        function updateThemeIcon(isDark) {
            themeIcon.className = isDark 
                ? 'fas fa-sun text-yellow-400 text-lg' 
                : 'fas fa-moon text-gray-600 text-lg';
        }

        // Language Logic
        let currentLang = 'km'; 
        langToggleBtn.addEventListener('click', () => {
            currentLang = currentLang === 'km' ? 'en' : 'km';
            langToggleBtn.textContent = currentLang === 'km' ? 'EN' : 'KH';
            document.querySelectorAll('.lang-km').forEach(el => el.classList.toggle('hidden'));
            document.querySelectorAll('.lang-en').forEach(el => el.classList.toggle('hidden'));
        });
    </script>
</body>
</html>
